<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Christmas Program - Control Panel</title>
  <link rel="stylesheet" href="/src/styles/control.scss">
</head>

<body class="control-panel">
  <div class="control-container">
    <!-- Header -->
    <header class="control-header">
      <h1>Christmas Program Control Panel</h1>
      <p class="control-subtitle">Remote control for all rooms</p>
    </header>

    <!-- Code Setup Section -->
    <section class="control-section code-setup" id="codeSetupSection">
      <h2>Sync Code Setup</h2>
      <div class="setup-form">
        <div class="form-group">
          <label for="syncCodeInput">Enter Sync Code:</label>
          <input type="text" id="syncCodeInput" placeholder="e.g., CHRISTMAS-2025" maxlength="20" />
          <p class="form-hint">Use the same code on all room displays for synchronization</p>
        </div>
        <div class="form-actions">
          <button id="connectBtn" class="btn btn-primary">Connect</button>
          <button id="addCodeBtn" class="btn btn-secondary">Add Code to List</button>
        </div>
      </div>

      <!-- Saved Codes -->
      <div class="saved-codes">
        <h3>Registered Codes</h3>
        <div id="codesList" class="codes-list"></div>
        <p class="codes-hint" id="codesHint">No codes registered yet. Enter a code above to get started.</p>
      </div>
    </section>

    <!-- Control Section -->
    <section class="control-section playback-control" id="playbackSection" style="display: none;">
      <h2>Playback Control</h2>

      <!-- Room Status -->
      <div class="room-status-container">
        <h3>Connected Rooms</h3>
        <div id="roomStatusGrid" class="room-status-grid"></div>
        <p id="noRoomsMessage" class="no-rooms-message">Waiting for room connections...</p>
      </div>

      <!-- Room Share Links -->
      <div class="room-links">
        <h3>Room URLs</h3>
        <p class="form-hint">Share or paste these URLs into each room device (sync code auto-filled).</p>
        <div class="room-links-actions">
          <button id="copyAllLinksBtn" class="btn btn-secondary">Copy All</button>
        </div>
        <div id="roomLinksList" class="room-links-list"></div>
      </div>

      <!-- Global Controls -->
      <div class="global-controls">
        <h3>Global Commands</h3>
        <div class="control-buttons">
          <button id="globalPlayBtn" class="btn btn-success">Play All</button>
          <button id="globalPauseBtn" class="btn btn-warning">Pause All</button>
          <button id="globalStopBtn" class="btn btn-danger">Stop All</button>
          <button id="globalResetBtn" class="btn btn-info">Reset All</button>
        </div>
      </div>

      <!-- Per-Room Controls -->
      <div class="per-room-controls">
        <h3>Per-Room Controls</h3>
        <div class="room-controls-container" id="roomControlsContainer"></div>
      </div>

      <!-- Disconnect -->
      <div class="disconnect-section">
        <button id="disconnectBtn" class="btn btn-secondary">Disconnect</button>
      </div>
    </section>
  </div>

  <script type="module" src="/src/control.ts"></script>
</body>

</html>