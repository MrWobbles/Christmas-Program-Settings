class S{x=0;y=0;radius=4;brightness=.3;pulsePhase=0;canvas;constructor(t){this.canvas=t,this.updatePosition()}updatePosition(){this.x=this.canvas.width/2,this.y=this.canvas.height/2}onResize(){this.updatePosition()}update(){this.pulsePhase+=.002,this.brightness=.3+Math.sin(this.pulsePhase)*.2}draw(t){t.filter="blur(0.8px)",t.fillStyle=`rgba(255, 255, 200, ${.8+this.brightness})`,t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.fill();const i=this.radius*(8+this.brightness*4),s=t.createRadialGradient(this.x,this.y,0,this.x,this.y,i);s.addColorStop(0,`rgba(255, 255, 150, ${.7*this.brightness})`),s.addColorStop(.3,`rgba(255, 200, 100, ${.4*this.brightness})`),s.addColorStop(.6,`rgba(255, 150, 50, ${.15*this.brightness})`),s.addColorStop(1,"rgba(255, 100, 0, 0)"),t.fillStyle=s,t.beginPath(),t.arc(this.x,this.y,i,0,Math.PI*2),t.fill();const r=this.radius*(12+this.brightness*6),a=t.createRadialGradient(this.x,this.y,0,this.x,this.y,r);a.addColorStop(0,`rgba(200, 220, 255, ${.4*this.brightness})`),a.addColorStop(.4,`rgba(150, 180, 255, ${.2*this.brightness})`),a.addColorStop(1,"rgba(100, 150, 255, 0)"),t.fillStyle=a,t.beginPath(),t.arc(this.x,this.y,r,0,Math.PI*2),t.fill();const h=this.radius*(15+this.brightness*8),e=t.createRadialGradient(this.x,this.y,h*.8,this.x,this.y,h);e.addColorStop(0,`rgba(200, 255, 255, ${.3*this.brightness})`),e.addColorStop(1,"rgba(200, 255, 255, 0)"),t.fillStyle=e,t.beginPath(),t.arc(this.x,this.y,h,0,Math.PI*2),t.fill();const l=8;for(let p=0;p<l;p++){const n=p/l*Math.PI*2,o=this.radius*(20+this.brightness*10),y=this.x+Math.cos(n)*o,u=this.y+Math.sin(n)*o,g=t.createLinearGradient(this.x,this.y,y,u);g.addColorStop(0,`rgba(255, 255, 200, ${.6*this.brightness})`),g.addColorStop(.5,`rgba(255, 200, 100, ${.3*this.brightness})`),g.addColorStop(1,"rgba(255, 150, 50, 0)"),t.fillStyle=g,t.beginPath(),t.moveTo(this.x,this.y);const c=3+this.brightness*2,b=n+Math.PI/2;t.lineTo(this.x+Math.cos(n)*o+Math.cos(b)*c,this.y+Math.sin(n)*o+Math.sin(b)*c),t.lineTo(this.x+Math.cos(n)*o-Math.cos(b)*c,this.y+Math.sin(n)*o-Math.sin(b)*c),t.closePath(),t.fill()}t.filter="none"}}class w{x;y;depth;radius;baseOpacity;twinkleSpeed;twinklePhase;color;angle;distance;constructor(t){this.depth=Math.random(),this.x=0,this.y=0,this.radius=Math.pow(this.depth,1.5)*1.5,this.baseOpacity=Math.pow(this.depth,.8)*.7+.15,this.twinkleSpeed=Math.random()*.03+.005,this.twinklePhase=Math.random()*Math.PI*2,this.angle=Math.random()*Math.PI*2,this.distance=Math.random()*300+100;const i=[{r:255,g:255,b:200},{r:255,g:220,b:150},{r:200,g:220,b:255},{r:255,g:240,b:200}];this.color=i[Math.floor(Math.random()*i.length)]}update(t,i){this.twinklePhase+=this.twinkleSpeed;const s=this.angle+t;this.x=i.width/2+Math.cos(s)*this.distance,this.y=i.height/2+Math.sin(s)*this.distance}draw(t){const i=Math.sin(this.twinklePhase)*(this.baseOpacity*.5)+this.baseOpacity,{r:s,g:r,b:a}=this.color,h=this.radius*(3+i*2),e=t.createRadialGradient(this.x,this.y,0,this.x,this.y,h);e.addColorStop(0,`rgba(${s}, ${r}, ${a}, ${i*.4})`),e.addColorStop(.5,`rgba(${s}, ${r}, ${a}, ${i*.15})`),e.addColorStop(1,`rgba(${s}, ${r}, ${a}, 0)`),t.fillStyle=e,t.beginPath(),t.arc(this.x,this.y,h,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(${s}, ${r}, ${a}, ${i})`,t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.fill()}}class M{canvas;ctx;rotatingStars=[];northStar;animationTime=0;constructor(t,i){this.canvas=t,this.ctx=i,this.northStar=new S(t),this.initStars(),this.animate(),window.addEventListener("resize",()=>this.resizeCanvas())}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.northStar.onResize()}initStars(){this.resizeCanvas();for(let t=0;t<120;t++)this.rotatingStars.push(new w(this.canvas))}animate=()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const t=this.animationTime*1e-5%(Math.PI*2);this.rotatingStars.forEach(s=>{s.update(t,this.canvas),s.draw(this.ctx)}),this.northStar.update(),this.northStar.draw(this.ctx);const i=this.ctx.createRadialGradient(this.canvas.width/2,this.canvas.height/2,0,this.canvas.width/2,this.canvas.height/2,500);i.addColorStop(0,"rgba(200, 200, 255, 0.05)"),i.addColorStop(1,"rgba(200, 200, 255, 0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.animationTime+=1,requestAnimationFrame(this.animate)}}function P(d,t,i){new M(d,t);let s=!1;document.body.addEventListener("click",r=>{const a=r.target;if(!(a.closest(".lyrics-box")||a.closest(".media-bar")||a.closest(".room-switcher"))&&!s){s=!0,console.log("Starting audio and showing lyrics");const h=document.getElementById("carol-audio");if(h){i.show(),h.currentTime=0,h.play().catch(l=>console.error("Audio play error:",l));const e=h.currentTime;console.log(`Current time: ${e.toFixed(2)}s`)}}})}export{P as initRoom1};
