class c{x;y;size;twinklePhase;twinkleSpeed;constructor(t){this.x=Math.random()*t.width,this.y=Math.random()*t.height*.5,this.size=1+Math.random()*2,this.twinklePhase=Math.random()*Math.PI*2,this.twinkleSpeed=.015+Math.random()*.025}update(){this.twinklePhase+=this.twinkleSpeed}draw(t){const s=Math.sin(this.twinklePhase)*.5+.5;t.fillStyle=`rgba(255, 255, 255, ${s})`,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fill();const a=t.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*3);a.addColorStop(0,`rgba(255, 255, 255, ${s*.3})`),a.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=a,t.beginPath(),t.arc(this.x,this.y,this.size*3,0,Math.PI*2),t.fill()}}class l{canvas;ctx;stars=[];constructor(t,s){this.canvas=t,this.ctx=s,this.initStars(),this.animate(),window.addEventListener("resize",()=>this.resizeCanvas())}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}initStars(){this.resizeCanvas();for(let t=0;t<50;t++)this.stars.push(new c(this.canvas))}animate=()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.stars.forEach(t=>{t.update(),t.draw(this.ctx)}),requestAnimationFrame(this.animate)}}class d{angel4=null;hostsBack;hostsFront;constructor(){this.angel4=document.querySelector(".character--angel4"),this.hostsBack=document.querySelectorAll(".character--host-back"),this.hostsFront=document.querySelectorAll(".character--host-front")}showCharacters(){this.angel4&&this.angel4.classList.add("show"),this.hostsBack.forEach(t=>t.classList.add("show")),this.hostsFront.forEach(t=>t.classList.add("show"))}hasCharacters(){return this.angel4!==null||this.hostsBack.length>0||this.hostsFront.length>0}}function u(i,t,s){const a=new d;new l(i,t);let n=!1,h=0;document.body.addEventListener("click",o=>{const r=o.target;if(!(r.closest(".lyrics-box")||r.closest(".media-bar")||r.closest(".room-switcher"))){if(h+=1,h===1){a.showCharacters();return}if(h===2&&!n){n=!0;const e=document.getElementById("carol-audio");e&&(s.show(),e.currentTime=0,e.play().catch(()=>{}))}else if(h>2){const e=document.getElementById("carol-audio");e&&console.log(`Current time: ${e.currentTime.toFixed(2)}s`)}}})}export{u as initRoom4};
